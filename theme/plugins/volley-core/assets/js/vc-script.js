if(function($){var e=Backbone.View.extend({events:{},$lg_offset_placeholder_value:!1,$lg_size_placeholder_value:!1,initialize:function(){_.bindAll(this,"setLgPlaceholders")},render:function(){return this},save:function(){var e=[];return this.$el.find(".vc_column_offset_field").each(function(){var a=$(this);a.is(":checkbox:checked")?e.push(a.attr("name")):a.is("select")&&""!==a.val()&&e.push(a.val())}),e},setLgPlaceholders:function(){var e=this.$lg_offset_placeholder_value.val().replace(/[^\d]/g,"");this.$lg_size.find("option:first").text(VcI8nColumnOffsetParam.inherit_default),this.$lg_offset.find("option:first").text(e?VcI8nColumnOffsetParam.inherit+e:"")}});vc.atts.responsive_alignment={parse:function(e){return this.content().find("input.wpb_vc_param_value."+e.param_name).data("themethreadsResponsiveAlignment").save().join(" ")},init:function(a,t){$('[data-column-offset="true"]',t).each(function(){var a=$(this);a.find(".wpb_vc_param_value").data("themethreadsResponsiveAlignment",new e({el:a}).render())})}}}(window.jQuery),_.isUndefined(window.vc))var vc={atts:{}};!function($){"VcBackendTtaViewInterface"in window&&(window.VcBackendTtaViewInterface.prototype.clickAppendSection=function(e){e.preventDefault(),this.addSection(void 0,$(e.currentTarget).data("element_type"))},window.VcBackendTtaViewInterface.prototype.clickPrependSection=function(e){e.preventDefault(),this.addSection(!0,$(e.currentTarget).data("element_type"))},window.VcBackendTtaViewInterface.prototype.addSection=function(e,a){var t,i,n;return a=a||"vc_tta_section",t=this.defaultSectionTitle,i={shortcode:a,params:{title:t},parent_id:this.model.get("id"),order:_.isBoolean(e)&&e?vc.add_element_block_view.getFirstPositionIndex():vc.shortcodes.getNextOrder(),prepend:e},n=vc.shortcodes.create(i)}),vc.atts.themethreads_colorpicker={init:function(e,a){var t=a.find("input.wpb_vc_param_value").val();a.next(".ld-color-val").val(t),a.find("[data-colorpicker=true]").themethreadsColorPicker()},parse:function(e){return this.content().find(".wpb_vc_param_value[name="+e.param_name+"]").next(".ld-color-val").val()}},vc.atts.el_id={clone:function(e,a,t){var i;i=e.get("params"),_.isUndefined(t)||_.isUndefined(t.settings)||_.isUndefined(t.settings.auto_generate)||!0!==t.settings.auto_generate?i[t.param_name]="":i[t.param_name]="ld-"+Date.now()+"-"+vc_guid(),e.set({params:i},{silent:!0})},create:function(e,a,t){if(e.get("cloned"))return vc.atts.el_id.clone(e,a,t);if(_.isEmpty(a)&&!_.isUndefined(t)&&!_.isUndefined(t.settings)&&!_.isUndefined(t.settings.auto_generate)&&1==t.settings.auto_generate){var i;i=e.get("params"),i[t.param_name]="ld-"+Date.now()+"-"+vc_guid(),e.set({params:i},{silent:!0})}}},vc.atts.themethreads_slider={render:function(e,a){return a},init:function(e,a){var t=a.find("input.wpb_vc_param_value").val(),i=a.find(".themethreads-handle");a.find(".themethreads-slider").slider({min:e.min,max:e.max,step:e.step,value:t,create:function(){i.text($(this).slider("value"))},slide:function(e,a){i.text(a.value)},change:function(e,t){a.find("input.wpb_vc_param_value").val(t.value)}})}},vc.atts.select_preview={render:function(e,a){return a},init:function(e,a){a.find(".wpb_vc_param_value").imagepicker({show_label:!0})},defaults:function(e){var a;return _.isArray(e.value)||_.isString(e.value)?_.isArray(e.value)?(a=e.value[0].value,_.isArray(a)&&a.length?a[0].value:a):"":(a=_.values(e.value)[0].value,a.label?a.value:a)}},vc.atts.responsive_textfield={parse:function(e){var a=this.content().find(".wpb_vc_param_value[name="+e.param_name+"]"),t=a.parent(),i={},n,l;return resolutions=["all","desktop","tablet","mobile"],i.lg=t.find('[data-name="textfield-lg"]').val(),i.md=t.find('[data-name="textfield-md"]').val(),i.sm=t.find('[data-name="textfield-sm"]').val(),i.xs=t.find('[data-name="textfield-xs"]').val(),i.spacing_lg=t.find('[data-name="spacing-lg"]').val(),_.isString(i.spacing_lg)&&0<i.spacing_lg.length&&(i.spacing_lg.match(/^-?\d*(\.\d+){0,1}(%|in|cm|mm|em|rem|ex|pt|pc|px|vw|vh|vmin|vmax)$/)||(i.spacing_lg=isNaN(parseFloat(i.spacing_lg))?"":parseFloat(i.spacing_lg)+"px"),i.spacing_lg.length),i.spacing_md=t.find('[data-name="spacing-md"]').val(),_.isString(i.spacing_md)&&0<i.spacing_md.length&&(i.spacing_lg.match(/^-?\d*(\.\d+){0,1}(%|in|cm|mm|em|rem|ex|pt|pc|px|vw|vh|vmin|vmax)$/)||(i.spacing_md=isNaN(parseFloat(i.spacing_md))?"":parseFloat(i.spacing_md)+"px"),i.spacing_md.length),i.spacing_sm=t.find('[data-name="spacing-sm"]').val(),_.isString(i.spacing_sm)&&0<i.spacing_sm.length&&(i.spacing_sm.match(/^-?\d*(\.\d+){0,1}(%|in|cm|mm|em|rem|ex|pt|pc|px|vw|vh|vmin|vmax)$/)||(i.spacing_sm=isNaN(parseFloat(i.spacing_sm))?"":parseFloat(i.spacing_sm)+"px"),i.spacing_sm.length),i.spacing_xs=t.find('[data-name="spacing-xs"]').val(),_.isString(i.spacing_xs)&&0<i.spacing_xs.length&&(i.spacing_xs.match(/^-?\d*(\.\d+){0,1}(%|in|cm|mm|em|rem|ex|pt|pc|px|vw|vh|vmin|vmax)$/)||(i.spacing_xs=isNaN(parseFloat(i.spacing_xs))?"":parseFloat(i.spacing_xs)+"px"),i.spacing_xs.length),n=_.map(i,function(e,a){if(_.isString(e)&&0<e.length)return a+":"+encodeURIComponent(e)}),l=$.grep(n,function(e){return _.isString(e)&&0<e.length}).join("|")}},vc.atts.themethreads_shape_divider={parse:function(e){var a=this.content().find(".wpb_vc_param_value[name="+e.param_name+"]"),t=a.parent(),i={},n,l;return i.top_shape_type=t.find('[data-name="top-shape-type"]').val(),i.top_shape_color=t.find('[data-name="top-shape-color"]').val(),i.top_shape_height=t.find('[data-name="top-shape-height"]').val(),i.top_shape_width=t.find('[data-name="top-shape-width"]').val(),i.bottom_shape_type=t.find('[data-name="bottom-shape-type"]').val(),i.bottom_shape_color=t.find('[data-name="bottom-shape-color"]').val(),i.bottom_shape_height=t.find('[data-name="bottom-shape-height"]').val(),i.bottom_shape_width=t.find('[data-name="bottom-shape-width"]').val(),n=_.map(i,function(e,a){if(_.isString(e)&&0<e.length)return a+":"+encodeURIComponent(e)}),l=$.grep(n,function(e){return _.isString(e)&&0<e.length}).join("|")},init:function(e,a){$(".themethreads_color-control",a).each(function(){var e,a,t,i=$(this),n=i.val().replace(/\s+/g,""),l=100;n.match(/rgba\(\d+\,\d+\,\d+\,([^\)]+)\)/)&&(l=100*parseFloat(n.match(/rgba\(\d+\,\d+\,\d+\,([^\)]+)\)/)[1])),i.wpColorPicker({clear:function(t,i){e.val(100),a.val("100%")},change:_.debounce(function(){$(this).trigger("change")},500)}),t=i.closest(".wp-picker-container"),$('<div class="vc_alpha-container"><label>Alpha: <output class="rangevalue">'+l+'%</output></label><input type="range" min="1" max="100" value="'+l+'" name="alpha" class="vc_alpha-field"></div>').appendTo(t.addClass("vc_color-picker").find(".iris-picker")),e=t.find(".vc_alpha-field"),a=t.find(".vc_alpha-container output"),e.bind("change keyup",function(){var t=parseFloat(e.val()),n=i.data("a8c-iris"),l=i.data("wp-wpColorPicker");a.val(e.val()+"%"),n._color._alpha=t/100,i.val(n._color.toString()),l.toggler.css({backgroundColor:i.val()})}).val(l).trigger("change")}),$(".themethreads-slider",a).each(function(){var e,a=$(this),t=a.parent().find(".themethreads-sliderinput").val(),i=a.find(".themethreads-handle");a.slider({min:0,max:500,step:1,value:t,create:function(){i.text($(this).slider("value"))},slide:function(e,a){i.text(a.value)},change:function(e,t){a.parent().find(".themethreads-sliderinput").val(t.value)}})}),$("h3.themethreads-shape-divider-heading",a).click(function(e){var a=$(this),t=a.parent(),i=a.attr("data-target");a.addClass("active").siblings().removeClass("active"),t.siblings().addClass("hidden"),t.siblings("[data-position="+i+"]").removeClass("hidden")}),$(document).on("change",".themethreads_shape_divider-type",function(){var e=$(this);if(void 0!==this.options){var a=this.options[this.selectedIndex].index,t=$(this.options[this.selectedIndex]).data("svg-path"),i=$(e.data("preview-target"),e.closest(".themethreads_shape_divider_settings")),n=$('<img src="" alt="Divider" />'),l;i.find("img").length||n.appendTo(i),i.find("img").attr("src",t),$.get(i.find("img").attr("src"),function(e){l=e.childNodes,i.find("svg").length&&i.find("svg").remove(),$(l).appendTo(i)})}}),$(".themethreads_shape_divider-type",a).trigger("change")}},vc.atts.themethreads_responsive={parse:function(e){var a=this.content().find(".wpb_vc_param_value[name="+e.param_name+"]"),t=a.parent(),i={},n,l;return resolutions=["all","desktop","tablet","mobile"],i.top_all=t.find('[data-name="top-all"]').val(),i.right_all=t.find('[data-name="right-all"]').val(),i.bottom_all=t.find('[data-name="bottom-all"]').val(),i.left_all=t.find('[data-name="left-all"]').val(),i.top_large=t.find('[data-name="top-large"]').val(),i.right_large=t.find('[data-name="right-large"]').val(),i.bottom_large=t.find('[data-name="bottom-large"]').val(),i.left_large=t.find('[data-name="left-large"]').val(),i.top_medium=t.find('[data-name="top-medium"]').val(),i.right_medium=t.find('[data-name="right-medium"]').val(),i.bottom_medium=t.find('[data-name="bottom-medium"]').val(),i.left_medium=t.find('[data-name="left-medium"]').val(),i.top_small=t.find('[data-name="top-small"]').val(),i.right_small=t.find('[data-name="right-small"]').val(),i.bottom_small=t.find('[data-name="bottom-small"]').val(),i.left_small=t.find('[data-name="left-small"]').val(),n=_.map(i,function(e,a){if(_.isString(e)&&0<e.length)return e.match(/^-?\d*(\.\d+){0,1}(%|in|cm|mm|em|rem|ex|pt|pc|px|vw|vh|vmin|vmax)$/)||(e=isNaN(parseFloat(e))?"":parseFloat(e)+"px"),e.length,a+":"+encodeURIComponent(e)}),l=$.grep(n,function(e){return _.isString(e)&&0<e.length}).join("|")},init:function(e,a){a.find(".themethreads-main-responsive-wrapper").first().addClass("active"),$("h3.themethreads-responsive-css-heading",a).on("click",function(){var e=$(this);e.parent().addClass("active"),e.parent().siblings().removeClass("active")})}},vc.atts.responsive_css_editor={parse:function(e){var a=this.content().find(".wpb_vc_param_value[name="+e.param_name+"]"),t=a.parent(),i={},n,l;return resolutions=["small","medium","large"],props=["margin","padding","border"],i.margin_top_large=t.find('[data-name="margin-top-large"]').val(),i.margin_right_large=t.find('[data-name="margin-right-large"]').val(),i.margin_bottom_large=t.find('[data-name="margin-bottom-large"]').val(),i.margin_left_large=t.find('[data-name="margin-left-large"]').val(),i.border_top_large=t.find('[data-name="border-top-large"]').val(),i.border_right_large=t.find('[data-name="border-right-large"]').val(),i.border_bottom_large=t.find('[data-name="border-bottom-large"]').val(),i.border_left_large=t.find('[data-name="border-left-large"]').val(),i.padding_top_large=t.find('[data-name="padding-top-large"]').val(),i.padding_right_large=t.find('[data-name="padding-right-large"]').val(),i.padding_bottom_large=t.find('[data-name="padding-bottom-large"]').val(),i.padding_left_large=t.find('[data-name="padding-left-large"]').val(),i.margin_top_medium=t.find('[data-name="margin-top-medium"]').val(),i.margin_right_medium=t.find('[data-name="margin-right-medium"]').val(),i.margin_bottom_medium=t.find('[data-name="margin-bottom-medium"]').val(),i.margin_left_medium=t.find('[data-name="margin-left-medium"]').val(),i.border_top_medium=t.find('[data-name="border-top-medium"]').val(),i.border_right_medium=t.find('[data-name="border-right-medium"]').val(),i.border_bottom_medium=t.find('[data-name="border-bottom-medium"]').val(),i.border_left_medium=t.find('[data-name="border-left-medium"]').val(),i.padding_top_medium=t.find('[data-name="padding-top-medium"]').val(),i.padding_right_medium=t.find('[data-name="padding-right-medium"]').val(),i.padding_bottom_medium=t.find('[data-name="padding-bottom-medium"]').val(),i.padding_left_medium=t.find('[data-name="padding-left-medium"]').val(),i.margin_top_small=t.find('[data-name="margin-top-small"]').val(),i.margin_right_small=t.find('[data-name="margin-right-small"]').val(),i.margin_bottom_small=t.find('[data-name="margin-bottom-small"]').val(),i.margin_left_small=t.find('[data-name="margin-left-small"]').val(),i.border_top_small=t.find('[data-name="border-top-small"]').val(),i.border_right_small=t.find('[data-name="border-right-small"]').val(),i.border_bottom_small=t.find('[data-name="border-bottom-small"]').val(),i.border_left_small=t.find('[data-name="border-left-small"]').val(),i.padding_top_small=t.find('[data-name="padding-top-small"]').val(),i.padding_right_small=t.find('[data-name="padding-right-small"]').val(),i.padding_bottom_small=t.find('[data-name="padding-bottom-small"]').val(),i.padding_left_small=t.find('[data-name="padding-left-small"]').val(),n=_.map(i,function(e,a){if(_.isString(e)&&0<e.length)return e.match(/^-?\d*(\.\d+){0,1}(%|in|cm|mm|em|rem|ex|pt|pc|px|vw|vh|vmin|vmax)$/)||(e=isNaN(parseFloat(e))?"":parseFloat(e)+"px"),e.length,a+":"+encodeURIComponent(e)}),l=$.grep(n,function(e){return _.isString(e)&&0<e.length}).join("|")},init:function(e,a){var t=a.next(".vc_wrapper-param-type-css_editor").find(".vc_layout-onion"),i=t.wrapInner('<div class="vc-onion-wrap active" />'),n=$('<h3 class="themethreads-responsive-css-heading extra-small"><i class="vc-composer-icon vc-c-icon-layout_portrait-smartphones"></i></h3>');a.find(".edit_form_line").clone(!0).prependTo(i),n.prependTo(t.find(".vc-onion-wrap")),a.hide(),t.find(".themethreads-main-responsive-wrapper.active").removeClass("active");var l=a.find(".themethreads-responsive-css-container").find("input"),s=t.find(".themethreads-responsive-css-container").find("input");s.on("change",function(){var e=$(this),a=s.index($(this));l.eq(a).val(e.val()).trigger("change")}),$("h3.themethreads-responsive-css-heading",t).on("click",function(){var e=$(this);e.closest(".vc_layout-onion").find(".vc-onion-wrap.active, .themethreads-main-responsive-wrapper.active").removeClass("active"),e.parent().addClass("active")})}},vc.atts.themethreads_advanced_checkbox={parse:function(e){if($(".themethreads-advanced-checkbox input").is(":checked"))var a='checked="checked"';else var a="";var t=$("#vc_ui-panel-edit-element"),i=$('<label class="themethreads-easy-mode-switch"><input type="checkbox" class="themethreads-easy-mode-checkbox" '+a+' value="true">Easy Mode<span><i class="fa fa-power-off"> </i></span></label>'),n;t.find(".themethreads-easy-mode-switch").remove(),t.find(".vc_ui-panel-header-controls").prepend(i),n=i.find(".themethreads-easy-mode-checkbox");var l=$(".themethreads-advanced-checkbox input");n.on("change",function(){l.trigger("click")});var s,d;return s=[],d="",$("input[name="+e.param_name+"]",this.content()).each(function(){var e;e=$(this),this.checked&&s.push(e.attr("value"))}),0<s.length&&(d=s.join(",")),d},defaults:function(e){return""}},vc.atts.themethreads_checkbox={parse:function(e){var a,t;return a=[],t="",$("input[name="+e.param_name+"]",this.content()).each(function(){var e;e=$(this),this.checked&&a.push(e.attr("value"))}),0<a.length&&(t=a.join(",")),t},defaults:function(e){return""}},vc.atts.themethreads_button_set={parse:function(e){var a,t;return a=[],t="",$("input[name="+e.param_name+"]",this.content()).each(function(){var e;e=$(this),this.checked&&a.push(e.attr("value"))}),0<a.length&&(t=a.join(",")),t},init:function(e,a){var t=$(".ld-btn-group",a);$(".ld-btn",t).on("click",function(){$(this).addClass("active").siblings().removeClass("active")})},defaults:function(e){return""}},vc.atts.checkbox={parse:function(e){var a,t;return a=[],t="",$("input[name="+e.param_name+"]",this.content()).each(function(){var e,t=$('<span class="checkbox"></span>');e=$(this),this.checked&&a.push(e.attr("value")),e.siblings("span.checkbox").length||t.insertAfter(e)}),0<a.length&&(t=a.join(",")),t},defaults:function(e){return""}},$("body").on("click",".vc_ui-tabs-line-trigger",function(){var e=$(this),a=e.attr("data-vc-ui-element-target");$(a).find("input[type=checkbox]").each(function(){var e=$('<span class="checkbox"></span>');$(this).siblings("span.checkbox").length||e.insertAfter($(this))})}),$('[data-id="page-enable-stack"]').on("change","input[type=radio]",function(){var e=$("body");"on"==$(this).val()?e.addClass("threads-stack-enabled"):e.removeClass("threads-stack-enabled")}),vc.TemplateWindowUIPanelBackendEditor=vc.TemplatesPanelViewBackend.vcExtendUI(vc.HelperPanelViewHeaderFooter).vcExtendUI(vc.HelperTemplatesPanelViewSearch).extend({panelName:"template_window",showMessageDisabled:!1,initialize:function(){vc.TemplateWindowUIPanelBackendEditor.__super__.initialize.call(this),this.trigger("show",this.initTemplatesTabs,this)},show:function(){this.clearSearch(),vc.TemplateWindowUIPanelBackendEditor.__super__.show.call(this);var e=$('.vc_edit-form-tab[data-tab="themethreads_templates"]');$(".sortable_templates ul > li",e).each(function(){"all"==$(this).attr("data-sort")?$(this).find(".count").html($(".vc_ui-template-list > .vc_ui-template",e).length):$(this).find(".count").html($(".vc_ui-template-list > .vc_ui-template."+$(this).attr("data-sort"),e).length)}),$('.sortable_templates li[data-sort="all"]',e).addClass("active").trigger("click"),$(".sortable_templates li",e).click(function(){$(".sortable_templates li",e).removeClass("active"),$(this).addClass("active");var a=$(this).attr("data-sort");$(".vc_ui-template-list > .vc_ui-template",e).removeClass("hidden"),"all"!=a&&$(".vc_ui-template-list > .vc_ui-template:not(."+a+")",e).addClass("hidden"),$(".themethreads-templates-container",e).attr("data-filtered-items",a)}),$(".vc_ui-template",$(this.el)).removeClass("is-loading").find(".vc-composer-icon").removeClass("vc-c-icon-sync").addClass("vc-c-icon-add"),$(".vc_ui-control-button i",$(this.el)).removeClass("rotating"),$(this.el).on("click",".vc_ui-template [data-template-handler]",function(){$(this).closest(".vc_ui-template").addClass("is-loading"),$(this).is(".vc_ui-control-button")?$(this).find(".vc-composer-icon").removeClass("vc-c-icon-add").addClass("vc-c-icon-sync rotating"):$(this).next(".vc_ui-list-bar-item-actions").find(".vc-composer-icon").removeClass("vc-c-icon-add").addClass("vc-c-icon-sync rotating")})},initTemplatesTabs:function(){this.$el.find('[data-vc-ui-element="panel-tabs-controls"]').vcTabsLine("moveTabs")},showMessage:function(e,a){var t;if(this.showMessageDisabled)return!1;t="vc_col-xs-12 wpb_element_wrapper",this.message_box_timeout&&this.$el.find("[data-vc-panel-message]").remove()&&window.clearTimeout(this.message_box_timeout),this.message_box_timeout=!1;var i,n=vc.template('<div class="vc_message_box vc_message_box-standard vc_message_box-rounded vc_color-<%- color %>"><div class="vc_message_box-icon"><i class="fa fa fa-<%- icon %>"></i></div><p><%- text %></p></div>');switch(a){case"error":i=$('<div class="'+t+'" data-vc-panel-message>').html(n({color:"danger",icon:"times",text:e}));break;case"warning":i=$('<div class="'+t+'" data-vc-panel-message>').html(n({color:"warning",icon:"exclamation-triangle",text:e}));break;case"success":i=$('<div class="'+t+'" data-vc-panel-message>').html(n({color:"success",icon:"check",text:e}))}i.prependTo(this.$el.find('[data-vc-ui-element="panel-edit-element-tab"].vc_row.vc_active')),i.fadeIn(),this.message_box_timeout=window.setTimeout(function(){i.remove()},6e3)},changeTab:function(e){e.preventDefault(),e&&!e.isClearSearch&&this.clearSearch();var a=$(e.currentTarget);a.parent().hasClass("vc_active")||(this.$el.find('[data-vc-ui-element="panel-tabs-controls"] .vc_active:not([data-vc-ui-element="panel-tabs-line-dropdown"])').removeClass("vc_active"),a.parent().addClass("vc_active"),this.$el.find('[data-vc-ui-element="panel-edit-element-tab"].vc_active').removeClass("vc_active"),this.$el.find(a.data("vcUiElementTarget")).addClass("vc_active"),this.$tabsMenu&&this.$tabsMenu.vcTabsLine("checkDropdownContainerActive"))},setPreviewFrameHeight:function(e,a){parseInt(a)<100&&(a=100),$('data-vc-template-preview-frame="'+e+'"').height(a)}}),vc.TemplateWindowUIPanelBackendEditor.prototype.events=$.extend(!0,vc.TemplateWindowUIPanelBackendEditor.prototype.events,{'click [data-vc-ui-element="button-save"]':"save",'click [data-vc-ui-element="button-close"]':"hide",'click [data-vc-ui-element="button-minimize"]':"toggleOpacity","keyup [data-vc-templates-name-filter]":"searchTemplate","search [data-vc-templates-name-filter]":"searchTemplate","click .vc_template-save-btn":"saveTemplate","click [data-template_id] [data-template-handler]":"loadTemplate",'click [data-vc-container=".vc_ui-list-bar"][data-vc-preview-handler]':"buildTemplatePreview",'click [data-vc-ui-delete="template-title"]':"removeTemplate",'click [data-vc-ui-element="panel-tab-control"]':"changeTab"}),vc.TemplateWindowUIPanelFrontendEditor=vc.TemplatesPanelViewFrontend.vcExtendUI(vc.HelperPanelViewHeaderFooter).vcExtendUI(vc.HelperTemplatesPanelViewSearch).extend({panelName:"template_window",showMessageDisabled:!1,show:function(){this.clearSearch(),vc.TemplateWindowUIPanelFrontendEditor.__super__.show.call(this),$('.vc_edit-form-tab[data-tab="themethreads_templates"] .sortable_templates ul > li').each(function(){"all"==$(this).attr("data-sort")?$(this).find(".count").html($('.vc_edit-form-tab[data-tab="themethreads_templates"] .vc_ui-template-list > .vc_ui-template').length):$(this).find(".count").html($('.vc_edit-form-tab[data-tab="themethreads_templates"] .vc_ui-template-list > .vc_ui-template.'+$(this).attr("data-sort")).length)}),$('.vc_edit-form-tab[data-tab="themethreads_templates"] .sortable_templates li[data-sort="all"]').addClass("active").trigger("click"),$('.vc_edit-form-tab[data-tab="themethreads_templates"] .sortable_templates li').click(function(){$('.vc_edit-form-tab[data-tab="themethreads_templates"] .sortable_templates li').removeClass("active"),$(this).addClass("active");var e=$(this).attr("data-sort");$('.vc_edit-form-tab[data-tab="themethreads_templates"] .vc_ui-template-list > .vc_ui-template').removeClass("hidden"),"all"!=e&&$('.vc_edit-form-tab[data-tab="themethreads_templates"] .vc_ui-template-list > .vc_ui-template:not(.'+e+")").addClass("hidden")}),$(".vc_ui-template",$(this.el)).removeClass("is-loading").find(".vc-composer-icon").removeClass("vc-c-icon-sync").addClass("vc-c-icon-add"),$(".vc_ui-control-button i",$(this.el)).removeClass("rotating"),$(this.el).on("click",".vc_ui-template [data-template-handler]",function(){$(this).closest(".vc_ui-template").addClass("is-loading"),$(this).is(".vc_ui-control-button")?$(this).find(".vc-composer-icon").removeClass("vc-c-icon-add").addClass("vc-c-icon-sync rotating"):$(this).next(".vc_ui-list-bar-item-actions").find(".vc-composer-icon").removeClass("vc-c-icon-add").addClass("vc-c-icon-sync rotating")})},showMessage:function(e,a){if(this.showMessageDisabled)return!1;this.message_box_timeout&&this.$el.find("[data-vc-panel-message]").remove()&&window.clearTimeout(this.message_box_timeout),this.message_box_timeout=!1;var t,i,n=vc.template('<div class="vc_message_box vc_message_box-standard vc_message_box-rounded vc_color-<%- color %>"><div class="vc_message_box-icon"><i class="fa fa fa-<%- icon %>"></i></div><p><%- text %></p></div>');switch(i="vc_col-xs-12 wpb_element_wrapper",a){case"error":t=$('<div class="'+i+'" data-vc-panel-message>').html(n({color:"danger",icon:"times",text:e}));break;case"warning":t=$('<div class="'+i+'" data-vc-panel-message>').html(n({color:"warning",icon:"exclamation-triangle",text:e}));break;case"success":t=$('<div class="'+i+'" data-vc-panel-message>').html(n({color:"success",icon:"check",text:e}))}t.prependTo(this.$el.find('[data-vc-ui-element="panel-edit-element-tab"].vc_row.vc_active')),t.fadeIn(),this.message_box_timeout=window.setTimeout(function(){t.remove()},6e3)},changeTab:function(e){e.preventDefault(),e&&!e.isClearSearch&&this.clearSearch();var a=$(e.currentTarget);a.parent().hasClass("vc_active")||(this.$el.find('[data-vc-ui-element="panel-tabs-controls"] .vc_active:not([data-vc-ui-element="panel-tabs-line-dropdown"])').removeClass("vc_active"),a.parent().addClass("vc_active"),this.$el.find('[data-vc-ui-element="panel-edit-element-tab"].vc_active').removeClass("vc_active"),this.$el.find(a.data("vcUiElementTarget")).addClass("vc_active"),this.$tabsMenu&&this.$tabsMenu.vcTabsLine("checkDropdownContainerActive"))}}),$.fn.vcAccordion.Constructor.prototype.collapseTemplate=function(e){var a,t,i,n;i=this.$element;var l;if(l=0,a=this.getContainer().find("[data-vc-preview-handler]").each(function(){var e,a;a=$(this),e=a.data("vc.accordion"),void 0===e&&(a.vcAccordion(),e=a.data("vc.accordion")),e&&e.setIndex&&e.setIndex(l++)}),t=a.filter(function(){var e,a;return e=$(this),a=e.data("vc.accordion"),a.getTarget().hasClass(a.activeClass)}),n=t.filter(function(){return i[0]!==this}),n.length&&$.fn.vcAccordion.call(n,"hide"),this.isActive())$.fn.vcAccordion.call(i,"hide");else{$.fn.vcAccordion.call(i,"show");var s=i.closest(".vc_ui-list-bar-item"),d=i.closest("[data-template_id]"),c=d.closest("[data-vc-ui-element=panel-content]").parent();setTimeout(function(){if(Math.round(d.offset().top-c.offset().top)<0){var a=Math.round(d.offset().top-c.offset().top+c.scrollTop()-s.height());c.animate({scrollTop:a},400)}"function"==typeof e&&e(d,c)},400)}}}(jQuery);